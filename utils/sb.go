// ***********************************************************************************************
// ***                               G O L A N D   S T U D I O S                               ***
// ***********************************************************************************************
// * Auth: ColeCai
// * Date: 2021/11/06 15:31:14
// * File: utils.go
// * Proj: gotools
// * Pack: gotools
// * Ides: GoLand
// *----------------------------------------------------------------------------------------------
// * Functions:
// * 	B2S(b []byte) string
// * 	S2B(s string) (b []byte)
// * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

package utils

import (
	"reflect"
	"unsafe"
)

// ***********************************************************************************************
// * SUMMARY:
// * WARNING:
// * HISTORY:
// *    -create: 2021/12/07 17:31:49 ColeCai.
// ***********************************************************************************************
func B2S(b []byte) string {
	return *(*string)(unsafe.Pointer(&b))
}

// ***********************************************************************************************
// * SUMMARY:
// * WARNING:
// * HISTORY:
// *    -create: 2021/12/07 17:32:57 ColeCai.
// ***********************************************************************************************
func S2B(s string) (b []byte) {
	bh := (*reflect.SliceHeader)(unsafe.Pointer(&b))
	sh := (*reflect.StringHeader)(unsafe.Pointer(&s))

	bh.Data = sh.Data

	bh.Len = sh.Len
	bh.Cap = sh.Len
	return
}
